import t from"path";import e from"fs";import r from"url";import{execFile as i}from"child_process";import n from"events";import s from"assert";import"util";import o from"os";import a from"crypto";var c={},h=t,u="win32"===process.platform,l=e,f=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function p(t){return"function"==typeof t?t:function(){var t;if(f){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}if(h.normalize,u)var d=/(.*?)(?:[\/\\]+|$)/g;else d=/(.*?)(?:[\/]+|$)/g;if(u)var m=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else m=/^[\/]*/;c.realpathSync=function(t,e){if(t=h.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,i,n,s,o=t,a={},c={};function f(){var e=m.exec(t);r=e[0].length,i=e[0],n=e[0],s="",u&&!c[n]&&(l.lstatSync(n),c[n]=!0)}for(f();r<t.length;){d.lastIndex=r;var p=d.exec(t);if(s=i,i+=p[0],n=s+p[1],r=d.lastIndex,!(c[n]||e&&e[n]===n)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,n))g=e[n];else{var y=l.lstatSync(n);if(!y.isSymbolicLink()){c[n]=!0,e&&(e[n]=n);continue}var b=null;if(!u){var v=y.dev.toString(32)+":"+y.ino.toString(32);a.hasOwnProperty(v)&&(b=a[v])}null===b&&(l.statSync(n),b=l.readlinkSync(n)),g=h.resolve(s,b),e&&(e[n]=g),u||(a[v]=b)}t=h.resolve(g,t.slice(r)),f()}}return e&&(e[o]=t),t},c.realpath=function(t,e,r){if("function"!=typeof r&&(r=p(e),e=null),t=h.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var i,n,s,o,a=t,c={},f={};function g(){var e=m.exec(t);i=e[0].length,n=e[0],s=e[0],o="",u&&!f[s]?l.lstat(s,(function(t){if(t)return r(t);f[s]=!0,y()})):process.nextTick(y)}function y(){if(i>=t.length)return e&&(e[a]=t),r(null,t);d.lastIndex=i;var c=d.exec(t);return o=n,n+=c[0],s=o+c[1],i=d.lastIndex,f[s]||e&&e[s]===s?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,s)?E(e[s]):l.lstat(s,b)}function b(t,i){if(t)return r(t);if(!i.isSymbolicLink())return f[s]=!0,e&&(e[s]=s),process.nextTick(y);if(!u){var n=i.dev.toString(32)+":"+i.ino.toString(32);if(c.hasOwnProperty(n))return v(null,c[n],s)}l.stat(s,(function(t){if(t)return r(t);l.readlink(s,(function(t,e){u||(c[n]=e),v(t,e)}))}))}function v(t,i,n){if(t)return r(t);var s=h.resolve(o,i);e&&(e[n]=s),E(s)}function E(e){t=h.resolve(e,t.slice(i)),g()}g()};var g=O;O.realpath=O,O.sync=A,O.realpathSync=A,O.monkeypatch=function(){y.realpath=O,y.realpathSync=A},O.unmonkeypatch=function(){y.realpath=b,y.realpathSync=v};var y=e,b=y.realpath,v=y.realpathSync,E=process.version,w=/^v[0-5]\./.test(E),_=c;function k(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function O(t,e,r){if(w)return b(t,e,r);"function"==typeof e&&(r=e,e=null),b(t,e,(function(i,n){k(i)?_.realpath(t,e,r):r(i,n)}))}function A(t,e){if(w)return v(t,e);try{return v(t,e)}catch(r){if(k(r))return _.realpathSync(t,e);throw r}}var S="object"==typeof process&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},x=j;function j(t,e,r){t instanceof RegExp&&(t=N(t,r)),e instanceof RegExp&&(e=N(e,r));var i=R(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function N(t,e){var r=e.match(t);return r?r[0]:null}function R(t,e,r){var i,n,s,o,a,c=r.indexOf(t),h=r.indexOf(e,c+1),u=c;if(c>=0&&h>0){if(t===e)return[c,h];for(i=[],s=r.length;u>=0&&!a;)u==c?(i.push(u),c=r.indexOf(t,u+1)):1==i.length?a=[i.pop(),h]:((n=i.pop())<s&&(s=n,o=h),h=r.indexOf(e,u+1)),u=c<h&&c>=0?c:h;i.length&&(a=[s,o])}return a}j.range=R;var I=x,T=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return z(function(t){return t.split("\\\\").join(L).split("\\{").join(C).split("\\}").join(D).split("\\,").join(M).split("\\.").join($)}(t),!0).map(P)},L="\0SLASH"+Math.random()+"\0",C="\0OPEN"+Math.random()+"\0",D="\0CLOSE"+Math.random()+"\0",M="\0COMMA"+Math.random()+"\0",$="\0PERIOD"+Math.random()+"\0";function G(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function P(t){return t.split(L).join("\\").split(C).join("{").split(D).join("}").split(M).join(",").split($).join(".")}function F(t){if(!t)return[""];var e=[],r=I("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=F(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function B(t){return"{"+t+"}"}function q(t){return/^-?0\d/.test(t)}function Q(t,e){return t<=e}function W(t,e){return t>=e}function z(t,e){var r=[],i=I("{","}",t);if(!i)return[t];var n=i.pre,s=i.post.length?z(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=n+"{"+i.body+"}"+s[o];r.push(a)}else{var c,h,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),f=u||l,p=i.body.indexOf(",")>=0;if(!f&&!p)return i.post.match(/,.*\}/)?z(t=i.pre+"{"+i.body+D+i.post):[t];if(f)c=i.body.split(/\.\./);else if(1===(c=F(i.body)).length&&1===(c=z(c[0],!1).map(B)).length)return s.map((function(t){return i.pre+c[0]+t}));if(f){var d=G(c[0]),m=G(c[1]),g=Math.max(c[0].length,c[1].length),y=3==c.length?Math.abs(G(c[2])):1,b=Q;m<d&&(y*=-1,b=W);var v=c.some(q);h=[];for(var E=d;b(E,m);E+=y){var w;if(l)"\\"===(w=String.fromCharCode(E))&&(w="");else if(w=String(E),v){var _=g-w.length;if(_>0){var k=new Array(_+1).join("0");w=E<0?"-"+k+w.slice(1):k+w}}h.push(w)}}else{h=[];for(var O=0;O<c.length;O++)h.push.apply(h,z(c[O],!1))}for(O=0;O<h.length;O++)for(o=0;o<s.length;o++){a=n+h[O]+s[o];(!e||f||a)&&r.push(a)}}return r}const U=(t,e,r={})=>(nt(e),!(!r.nocomment&&"#"===e.charAt(0))&&new ot(e,r).match(t));var X=U;const Z=S;U.sep=Z.sep;const K=Symbol("globstar **");U.GLOBSTAR=K;const Y=T,H={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},J=t=>t.split("").reduce(((t,e)=>(t[e]=!0,t)),{}),V=J("().*{}+?[]^$\\!"),tt=J("[.("),et=/\/+/;U.filter=(t,e={})=>(r,i,n)=>U(r,t,e);const rt=(t,e={})=>{const r={};return Object.keys(t).forEach((e=>r[e]=t[e])),Object.keys(e).forEach((t=>r[t]=e[t])),r};U.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return U;const e=U,r=(r,i,n)=>e(r,i,rt(t,n));return(r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,rt(t,r))}}).defaults=r=>e.defaults(rt(t,r)).Minimatch,r.filter=(r,i)=>e.filter(r,rt(t,i)),r.defaults=r=>e.defaults(rt(t,r)),r.makeRe=(r,i)=>e.makeRe(r,rt(t,i)),r.braceExpand=(r,i)=>e.braceExpand(r,rt(t,i)),r.match=(r,i,n)=>e.match(r,i,rt(t,n)),r},U.braceExpand=(t,e)=>it(t,e);const it=(t,e={})=>(nt(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Y(t)),nt=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},st=Symbol("subparse");U.makeRe=(t,e)=>new ot(t,e||{}).makeRe(),U.match=(t,e,r={})=>{const i=new ot(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t};let ot=class{constructor(t,e){nt(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map((t=>t.split(et))),this.debug(this.pattern,r),r=r.map(((t,e,r)=>t.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((t=>-1===t.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}matchOne(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var c,h=e[s],u=t[n];if(this.debug(e,h,u),!1===h)return!1;if(h===K){this.debug("GLOBSTAR",[e,h,u]);var l=n,f=s+1;if(f===a){for(this.debug("** at the end");n<o;n++)if("."===t[n]||".."===t[n]||!i.dot&&"."===t[n].charAt(0))return!1;return!0}for(;l<o;){var p=t[l];if(this.debug("\nglobstar while",t,l,e,f,p),this.matchOne(t.slice(l),e.slice(f),r))return this.debug("globstar found match!",l,o,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!r||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==o))}if("string"==typeof h?(c=u===h,this.debug("string match",h,u,c)):(c=u.match(h),this.debug("pattern match",h,u,c)),!c)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&""===t[n];throw new Error("wtf?")}braceExpand(){return it(this.pattern,this.options)}parse(t,e){nt(t);const r=this.options;if("**"===t){if(!r.noglobstar)return K;t="*"}if(""===t)return"";let i="",n=!!r.nocase,s=!1;const o=[],a=[];let c,h,u,l,f=!1,p=-1,d=-1;const m="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=()=>{if(c){switch(c){case"*":i+="[^/]*?",n=!0;break;case"?":i+="[^/]",n=!0;break;default:i+="\\"+c}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let e,m=0;m<t.length&&(e=t.charAt(m));m++)if(this.debug("%s\t%s %s %j",t,m,i,e),s){if("/"===e)return!1;V[e]&&(i+="\\"),i+=e,s=!1}else switch(e){case"/":return!1;case"\\":g(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,m,i,e),f){this.debug("  in class"),"!"===e&&m===d+1&&(e="^"),i+=e;continue}this.debug("call clearStateChar %j",c),g(),c=e,r.noext&&g();continue;case"(":if(f){i+="(";continue}if(!c){i+="\\(";continue}o.push({type:c,start:m-1,reStart:i.length,open:H[c].open,close:H[c].close}),i+="!"===c?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,i),c=!1;continue;case")":if(f||!o.length){i+="\\)";continue}g(),n=!0,u=o.pop(),i+=u.close,"!"===u.type&&a.push(u),u.reEnd=i.length;continue;case"|":if(f||!o.length){i+="\\|";continue}g(),i+="|";continue;case"[":if(g(),f){i+="\\"+e;continue}f=!0,d=m,p=i.length,i+=e;continue;case"]":if(m===d+1||!f){i+="\\"+e;continue}h=t.substring(d+1,m);try{RegExp("["+h+"]")}catch(t){l=this.parse(h,st),i=i.substr(0,p)+"\\["+l[0]+"\\]",n=n||l[1],f=!1;continue}n=!0,f=!1,i+=e;continue;default:g(),!V[e]||"^"===e&&f||(i+="\\"),i+=e}for(f&&(h=t.substr(d+1),l=this.parse(h,st),i=i.substr(0,p)+"\\["+l[0],n=n||l[1]),u=o.pop();u;u=o.pop()){let t;t=i.slice(u.reStart+u.open.length),this.debug("setting tail",i,u),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,((t,e,r)=>(r||(r="\\"),e+e+r+"|"))),this.debug("tail=%j\n   %s",t,t,u,i);const e="*"===u.type?"[^/]*?":"?"===u.type?"[^/]":"\\"+u.type;n=!0,i=i.slice(0,u.reStart)+e+"\\("+t}g(),s&&(i+="\\\\");const y=tt[i.charAt(0)];for(let t=a.length-1;t>-1;t--){const r=a[t],n=i.slice(0,r.reStart),s=i.slice(r.reStart,r.reEnd-8);let o=i.slice(r.reEnd);const c=i.slice(r.reEnd-8,r.reEnd)+o,h=n.split("(").length-1;let u=o;for(let t=0;t<h;t++)u=u.replace(/\)[+*?]?/,"");o=u;i=n+s+o+(""===o&&e!==st?"$":"")+c}if(""!==i&&n&&(i="(?=.)"+i),y&&(i=m+i),e===st)return[i,n];if(!n)return t.replace(/\\(.)/g,"$1");const b=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",b),{_glob:t,_src:i})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=e.nocase?"i":"";let n=t.map((t=>(t=t.map((t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===K?K:t._src)).reduce(((t,e)=>(t[t.length-1]===K&&e===K||t.push(e),t)),[]),t.forEach(((e,i)=>{e===K&&t[i-1]!==K&&(0===i?t.length>1?t[i+1]="(?:\\/|"+r+"\\/)?"+t[i+1]:t[i]=r:i===t.length-1?t[i-1]+="(?:\\/|"+r+")?":(t[i-1]+="(?:\\/|\\/"+r+"\\/)"+t[i+1],t[i+1]=K))})),t.filter((t=>t!==K)).join("/")))).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==Z.sep&&(t=t.split(Z.sep).join("/")),t=t.split(et),this.debug(this.pattern,"split",t);const i=this.set;let n;this.debug(this.pattern,"set",i);for(let e=t.length-1;e>=0&&(n=t[e],!n);e--);for(let s=0;s<i.length;s++){const o=i[s];let a=t;r.matchBase&&1===o.length&&(a=[n]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return U.defaults(t).Minimatch}};U.Minimatch=ot;var at,ct={exports:{}},ht={exports:{}};!function(t){try{var e=require("util");if("function"!=typeof e.inherits)throw"";t.exports=e.inherits}catch(e){t.exports=(at||(at=1,"function"==typeof Object.create?ht.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ht.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),ht.exports)}}(ct);var ut={};function lt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}ut.setopts=function(t,e,r){r||(r={});if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0);t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||dt,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(Et))}(t,r),t.changedCwd=!1;var i=process.cwd();lt(r,"cwd")?(t.cwd=mt.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=mt.resolve(i);t.root=r.root||mt.resolve(t.cwd,"/"),t.root=mt.resolve(t.root),t.cwdAbs=yt(t.cwd)?t.cwd:wt(t,t.cwd),t.nomount=!!r.nomount,"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"),t.cwd=t.cwd.replace(/\\/g,"/"),t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!0,t.minimatch=new bt(e,r),t.options=t.minimatch.options},ut.ownProp=lt,ut.makeAbs=wt,ut.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[i];e?r.push(a):r[a]=!0}}e||(r=Object.keys(r));t.nosort||(r=r.sort(vt));if(t.mark){for(i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),i=t.cache[e]||t.cache[wt(t,e)];return r&&i&&(r="DIR"!==i&&!Array.isArray(i)),r})))}t.ignore.length&&(r=r.filter((function(e){return!_t(t,e)})));t.found=r},ut.mark=function(t,e){var r=wt(t,e),i=t.cache[r],n=e;if(i){var s="DIR"===i||Array.isArray(i),o="/"===e.slice(-1);if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=wt(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n},ut.isIgnored=_t,ut.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var ft,pt,dt=e,mt=t,gt=X,yt=t.isAbsolute,bt=gt.Minimatch;function vt(t,e){return t.localeCompare(e,"en")}function Et(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new bt(r,{dot:!0})}return{matcher:new bt(t,{dot:!0}),gmatcher:e}}function wt(t,e){var r=e;return r="/"===e.charAt(0)?mt.join(t.root,e):yt(e)||""===e?e:t.changedCwd?mt.resolve(t.cwd,e):mt.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function _t(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}var kt=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){i[t]=e[t]})),i;function i(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var i=e.apply(this,t),n=t[t.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach((function(t){i[t]=n[t]})),i}};var Ot={exports:{}},At=kt;function St(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function xt(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}Ot.exports=At(St),Ot.exports.strict=At(xt),St.proto=St((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return St(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return xt(this)},configurable:!0})}));var jt,Nt,Rt=kt,It=Object.create(null),Tt=Ot.exports,Lt=Rt((function(t,e){return It[t]?(It[t].push(e),null):(It[t]=[e],function(t){return Tt((function e(){var r=It[t],i=r.length,n=Ct(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick((function(){e.apply(null,n)}))):delete It[t]}}))}(t))}));function Ct(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}function Dt(){if(Nt)return jt;Nt=1,jt=v;var e=g,r=X;r.Minimatch;var i=ct.exports,o=n.EventEmitter,a=t,c=s,h=t.isAbsolute,u=function(){if(pt)return ft;pt=1,ft=f,f.GlobSync=p;var e=g,r=X;r.Minimatch,Dt().Glob;var i=t,n=s,o=t.isAbsolute,a=ut,c=a.setopts,h=a.ownProp,u=a.childrenIgnored,l=a.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new p(t,e).found}function p(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof p))return new p(t,e);if(c(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}return p.prototype._finish=function(){if(n.ok(this instanceof p),this.realpath){var t=this;this.matches.forEach((function(r,i){var n=t.matches[i]=Object.create(null);for(var s in r)try{s=t._makeAbs(s),n[e.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;n[t._makeAbs(s)]=!0}}))}a.finish(this)},p.prototype._process=function(t,e,i){n.ok(this instanceof p);for(var s,a=0;"string"==typeof t[a];)a++;switch(a){case t.length:return void this._processSimple(t.join("/"),e);case 0:s=null;break;default:s=t.slice(0,a).join("/")}var c,h=t.slice(a);null===s?c=".":o(s)||o(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(s&&o(s)||(s="/"+s),c=s):c=s;var l=this._makeAbs(c);u(this,c)||(h[0]===r.GLOBSTAR?this._processGlobStar(s,c,l,h,e,i):this._processReaddir(s,c,l,h,e,i))},p.prototype._processReaddir=function(t,e,r,n,s,o){var a=this._readdir(r,o);if(a){for(var c=n[0],h=!!this.minimatch.negate,u=c._glob,l=this.dot||"."===u.charAt(0),f=[],p=0;p<a.length;p++)("."!==(g=a[p]).charAt(0)||l)&&(h&&!t?!g.match(c):g.match(c))&&f.push(g);var d=f.length;if(0!==d)if(1!==n.length||this.mark||this.stat)for(n.shift(),p=0;p<d;p++){var m;g=f[p],m=t?[t,g]:[g],this._process(m.concat(n),s,o)}else{this.matches[s]||(this.matches[s]=Object.create(null));for(p=0;p<d;p++){var g=f[p];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=i.join(this.root,g)),this._emitMatch(s,g)}}}},p.prototype._emitMatch=function(t,e){if(!l(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},p.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,i||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},p.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},p.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e},p.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},p.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){var a=i.slice(1),c=t?[t]:[],h=c.concat(a);this._process(h,n,!1);var u=o.length;if(!this.symlinks[r]||!s)for(var l=0;l<u;l++)if("."!==o[l].charAt(0)||this.dot){var f=c.concat(o[l],a);this._process(f,n,!0);var p=c.concat(o[l],i);this._process(p,n,!0)}}},p.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&o(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=i.join(this.root,t):(t=i.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},p.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch(t){n=s}else n=s}return this.statCache[e]=n,i=!0,n&&(i=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!r||"FILE"!==i)&&i},p.prototype._mark=function(t){return a.mark(this,t)},p.prototype._makeAbs=function(t){return a.makeAbs(this,t)},ft}(),l=ut,f=l.setopts,p=l.ownProp,d=Lt,m=l.childrenIgnored,y=l.isIgnored,b=Ot.exports;function v(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return u(t,e)}return new w(t,e,r)}v.sync=u;var E=v.GlobSync=u.GlobSync;function w(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new E(t,e)}if(!(this instanceof w))return new w(t,e,r);f(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof r&&(r=b(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return o();for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--n._processing,n._processing<=0&&n._finish()}}return v.glob=v,v.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}({},e);r.noprocess=!0;var i=new w(t,r).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var n=0;n<i[0].length;n++)if("string"!=typeof i[0][n])return!0;return!1},v.Glob=w,i(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();l.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i)}function i(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,r){var i=this.matches[t];if(!i)return r();var n=Object.keys(i),s=this,o=n.length;if(0===o)return r();var a=this.matches[t]=Object.create(null);n.forEach((function(i,n){i=s._makeAbs(i),e.realpath(i,s.realpathCache,(function(e,n){e?"stat"===e.syscall?a[i]=!0:s.emit("error",e):a[n]=!0,0==--o&&(s.matches[t]=a,r())}))}))},w.prototype._mark=function(t){return l.mark(this,t)},w.prototype._makeAbs=function(t){return l.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}},w.prototype._process=function(t,e,i,n){if(c(this instanceof w),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,i,n]);else{for(var s,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,o).join("/")}var a,u=t.slice(o);null===s?a=".":h(s)||h(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(s&&h(s)||(s="/"+s),a=s):a=s;var l=this._makeAbs(a);if(m(this,a))return n();u[0]===r.GLOBSTAR?this._processGlobStar(s,a,l,u,e,i,n):this._processReaddir(s,a,l,u,e,i,n)}},w.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,h){return a._processReaddir2(t,e,r,i,n,s,h,o)}))},w.prototype._processReaddir2=function(t,e,r,i,n,s,o,c){if(!o)return c();for(var h=i[0],u=!!this.minimatch.negate,l=h._glob,f=this.dot||"."===l.charAt(0),p=[],d=0;d<o.length;d++){if("."!==(g=o[d]).charAt(0)||f)(u&&!t?!g.match(h):g.match(h))&&p.push(g)}var m=p.length;if(0===m)return c();if(1===i.length&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(d=0;d<m;d++){var g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(n,g)}return c()}i.shift();for(d=0;d<m;d++){g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(i),n,s,c)}c()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!y(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=h(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,i=d("lstat\0"+t,(function(i,n){if(i&&"ENOENT"===i.code)return e();var s=n&&n.isSymbolicLink();r.symlinks[t]=s,s||!n||n.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));i&&r.fs.lstat(t,i)}},w.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t,r);if(p(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}this.fs.readdir(t,function(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}(this,t,r))}},w.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}},w.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},w.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,h){a._processGlobStar2(t,e,r,i,n,s,h,o)}))},w.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var c=i.slice(1),h=t?[t]:[],u=h.concat(c);this._process(u,n,!1,a);var l=this.symlinks[r],f=o.length;if(l&&s)return a();for(var p=0;p<f;p++){if("."!==o[p].charAt(0)||this.dot){var d=h.concat(o[p],c);this._process(d,n,!0,a);var m=h.concat(o[p],i);this._process(m,n,!0,a)}}a()},w.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,(function(n,s){i._processSimple2(t,e,n,s,r)}))},w.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&h(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()},w.prototype._stat=function(t,e){var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&p(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||"DIR"===n)return e(null,n);if(i&&"FILE"===n)return e()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?e():e(null,o,s)}var a=this,c=d("stat\0"+r,(function(i,n){if(n&&n.isSymbolicLink())return a.fs.stat(r,(function(i,s){i?a._stat2(t,r,null,n,e):a._stat2(t,r,i,s,e)}));a._stat2(t,r,i,n,e)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(t,e,r,i,n){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,n();var s="/"===t.slice(-1);if(this.statCache[e]=i,"/"===e.slice(-1)&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&"FILE"===o?n():n(null,o,i)},jt}var Mt,$t,Gt,Pt,Ft,Bt,qt=Dt(),Qt={exports:{}};function Wt(){if($t)return Mt;$t=1,Mt=function(e,r){for(var i=[],n=0;n<e.length;n++){var s=r(e[n],n);t(s)?i.push.apply(i,s):i.push(s)}return i};var t=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return Mt}function zt(){if(Pt)return Gt;Pt=1;var t=Wt(),e=x;Gt=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return d(function(t){return t.split("\\\\").join(r).split("\\{").join(i).split("\\}").join(n).split("\\,").join(s).split("\\.").join(o)}(t),!0).map(c)};var r="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",n="\0CLOSE"+Math.random()+"\0",s="\0COMMA"+Math.random()+"\0",o="\0PERIOD"+Math.random()+"\0";function a(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function c(t){return t.split(r).join("\\").split(i).join("{").split(n).join("}").split(s).join(",").split(o).join(".")}function h(t){if(!t)return[""];var r=[],i=e("{","}",t);if(!i)return t.split(",");var n=i.pre,s=i.body,o=i.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var c=h(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),r.push.apply(r,a),r}function u(t){return"{"+t+"}"}function l(t){return/^-?0\d/.test(t)}function f(t,e){return t<=e}function p(t,e){return t>=e}function d(r,i){var s=[],o=e("{","}",r);if(!o||/\$$/.test(o.pre))return[r];var c,m=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),g=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),y=m||g,b=o.body.indexOf(",")>=0;if(!y&&!b)return o.post.match(/,.*\}/)?d(r=o.pre+"{"+o.body+n+o.post):[r];if(y)c=o.body.split(/\.\./);else if(1===(c=h(o.body)).length&&1===(c=d(c[0],!1).map(u)).length)return(w=o.post.length?d(o.post,!1):[""]).map((function(t){return o.pre+c[0]+t}));var v,E=o.pre,w=o.post.length?d(o.post,!1):[""];if(y){var _=a(c[0]),k=a(c[1]),O=Math.max(c[0].length,c[1].length),A=3==c.length?Math.abs(a(c[2])):1,S=f;k<_&&(A*=-1,S=p);var x=c.some(l);v=[];for(var j=_;S(j,k);j+=A){var N;if(g)"\\"===(N=String.fromCharCode(j))&&(N="");else if(N=String(j),x){var R=O-N.length;if(R>0){var I=new Array(R+1).join("0");N=j<0?"-"+I+N.slice(1):I+N}}v.push(N)}}else v=t(c,(function(t){return d(t,!1)}));for(var T=0;T<v.length;T++)for(var L=0;L<w.length;L++){var C=E+v[T]+w[L];(!i||y||C)&&s.push(C)}return s}return Gt}function Ut(){if(Bt)return Ft;Bt=1,Ft=h,h.Minimatch=u;var t=function(){try{return require("path")}catch(t){}}()||{sep:"/"};h.sep=t.sep;var e=h.GLOBSTAR=u.GLOBSTAR={},r=zt(),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},n="[^/]",s="[^/]*?",o="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var a=/\/+/;function c(t,e){e=e||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function h(t,e,r){return f(e),r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&new u(e,r).match(t)}function u(e,r){if(!(this instanceof u))return new u(e,r);f(e),r||(r={}),e=e.trim(),r.allowWindowsEscape||"/"===t.sep||(e=e.split(t.sep).join("/")),this.options=r,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}function l(t,e){return e||(e=this instanceof u?this.options:{}),t=void 0===t?this.pattern:t,f(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:r(t)}h.filter=function(t,e){return e=e||{},function(r,i,n){return h(r,t,e)}},h.defaults=function(t){if(!t||"object"!=typeof t||!Object.keys(t).length)return h;var e=h,r=function(r,i,n){return e(r,i,c(t,n))};return(r.Minimatch=function(r,i){return new e.Minimatch(r,c(t,i))}).defaults=function(r){return e.defaults(c(t,r)).Minimatch},r.filter=function(r,i){return e.filter(r,c(t,i))},r.defaults=function(r){return e.defaults(c(t,r))},r.makeRe=function(r,i){return e.makeRe(r,c(t,i))},r.braceExpand=function(r,i){return e.braceExpand(r,c(t,i))},r.match=function(r,i,n){return e.match(r,i,c(t,n))},r},u.defaults=function(t){return h.defaults(t).Minimatch},u.prototype.debug=function(){},u.prototype.make=function(){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)});this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(a)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},u.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,i=0;if(r.nonegate)return;for(var n=0,s=t.length;n<s&&"!"===t.charAt(n);n++)e=!e,i++;i&&(this.pattern=t.substr(i));this.negate=e},h.braceExpand=function(t,e){return l(t,e)},u.prototype.braceExpand=l;var f=function(t){if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};u.prototype.parse=function(t,r){f(t);var a=this.options;if("**"===t){if(!a.noglobstar)return e;t="*"}if(""===t)return"";var c,h="",u=!!a.nocase,l=!1,d=[],m=[],g=!1,y=-1,b=-1,v="."===t.charAt(0)?"":a.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",E=this;function w(){if(c){switch(c){case"*":h+=s,u=!0;break;case"?":h+=n,u=!0;break;default:h+="\\"+c}E.debug("clearStateChar %j %j",c,h),c=!1}}for(var _,k=0,O=t.length;k<O&&(_=t.charAt(k));k++)if(this.debug("%s\t%s %s %j",t,k,h,_),l&&o[_])h+="\\"+_,l=!1;else switch(_){case"/":return!1;case"\\":w(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,k,h,_),g){this.debug("  in class"),"!"===_&&k===b+1&&(_="^"),h+=_;continue}E.debug("call clearStateChar %j",c),w(),c=_,a.noext&&w();continue;case"(":if(g){h+="(";continue}if(!c){h+="\\(";continue}d.push({type:c,start:k-1,reStart:h.length,open:i[c].open,close:i[c].close}),h+="!"===c?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,h),c=!1;continue;case")":if(g||!d.length){h+="\\)";continue}w(),u=!0;var A=d.pop();h+=A.close,"!"===A.type&&m.push(A),A.reEnd=h.length;continue;case"|":if(g||!d.length||l){h+="\\|",l=!1;continue}w(),h+="|";continue;case"[":if(w(),g){h+="\\"+_;continue}g=!0,b=k,y=h.length,h+=_;continue;case"]":if(k===b+1||!g){h+="\\"+_,l=!1;continue}var S=t.substring(b+1,k);try{RegExp("["+S+"]")}catch(t){var x=this.parse(S,p);h=h.substr(0,y)+"\\["+x[0]+"\\]",u=u||x[1],g=!1;continue}u=!0,g=!1,h+=_;continue;default:w(),l?l=!1:!o[_]||"^"===_&&g||(h+="\\"),h+=_}g&&(S=t.substr(b+1),x=this.parse(S,p),h=h.substr(0,y)+"\\["+x[0],u=u||x[1]);for(A=d.pop();A;A=d.pop()){var j=h.slice(A.reStart+A.open.length);this.debug("setting tail",h,A),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",j,j,A,h);var N="*"===A.type?s:"?"===A.type?n:"\\"+A.type;u=!0,h=h.slice(0,A.reStart)+N+"\\("+j}w(),l&&(h+="\\\\");var R=!1;switch(h.charAt(0)){case"[":case".":case"(":R=!0}for(var I=m.length-1;I>-1;I--){var T=m[I],L=h.slice(0,T.reStart),C=h.slice(T.reStart,T.reEnd-8),D=h.slice(T.reEnd-8,T.reEnd),M=h.slice(T.reEnd);D+=M;var $=L.split("(").length-1,G=M;for(k=0;k<$;k++)G=G.replace(/\)[+*?]?/,"");var P="";""===(M=G)&&r!==p&&(P="$"),h=L+C+M+P+D}""!==h&&u&&(h="(?=.)"+h);R&&(h=v+h);if(r===p)return[h,u];if(!u)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var F=a.nocase?"i":"";try{var B=new RegExp("^"+h+"$",F)}catch(t){return new RegExp("$.")}return B._glob=t,B._src=h,B};var p={};return h.makeRe=function(t,e){return new u(t,e||{}).makeRe()},u.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var r=this.options,i=r.noglobstar?s:r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=r.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===e?i:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(t){this.regexp=!1}return this.regexp},h.match=function(t,e,r){var i=new u(e,r=r||{});return t=t.filter((function(t){return i.match(t)})),i.options.nonull&&!t.length&&t.push(e),t},u.prototype.match=function(e,r){if(void 0===r&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&r)return!0;var i=this.options;"/"!==t.sep&&(e=e.split(t.sep).join("/")),e=e.split(a),this.debug(this.pattern,"split",e);var n,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(n=e[s]);s--);for(s=0;s<o.length;s++){var c=o[s],h=e;if(i.matchBase&&1===c.length&&(h=[n]),this.matchOne(h,c,r))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate},u.prototype.matchOne=function(t,r,i){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var s=0,o=0,a=t.length,c=r.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var h,u=r[o],l=t[s];if(this.debug(r,u,l),!1===u)return!1;if(u===e){this.debug("GLOBSTAR",[r,u,l]);var f=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;f<a;){var d=t[f];if(this.debug("\nglobstar while",t,f,r,p,d),this.matchOne(t.slice(f),r.slice(p),i))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,f,r,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!i||(this.debug("\n>>> no match, partial?",t,f,r,p),f!==a))}if("string"==typeof u?(h=l===u,this.debug("string match",u,l,h)):(h=l.match(u),this.debug("pattern match",u,l,h)),!h)return!1}if(s===a&&o===c)return!0;if(s===a)return i;if(o===c)return s===a-1&&""===t[s];throw new Error("wtf?")},Ft}var Xt,Zt={exports:{}};function Kt(){if(Xt)return Zt.exports;function t(t){return"/"===t.charAt(0)}function e(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",i=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||i)}return Xt=1,Zt.exports="win32"===process.platform?e:t,Zt.exports.posix=t,Zt.exports.win32=e,Zt.exports}var Yt,Ht,Jt,Vt,te,ee={};function re(){if(Yt)return ee;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Yt=1,ee.setopts=function(t,e,s){s||(s={});if(s.matchBase&&-1===e.indexOf("/")){if(s.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!s.silent,t.pattern=e,t.strict=!1!==s.strict,t.realpath=!!s.realpath,t.realpathCache=s.realpathCache||Object.create(null),t.follow=!!s.follow,t.dot=!!s.dot,t.mark=!!s.mark,t.nodir=!!s.nodir,t.nodir&&(t.mark=!0);t.sync=!!s.sync,t.nounique=!!s.nounique,t.nonull=!!s.nonull,t.nosort=!!s.nosort,t.nocase=!!s.nocase,t.stat=!!s.stat,t.noprocess=!!s.noprocess,t.absolute=!!s.absolute,t.fs=s.fs||i,t.maxLength=s.maxLength||1/0,t.cache=s.cache||Object.create(null),t.statCache=s.statCache||Object.create(null),t.symlinks=s.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(h))}(t,s),t.changedCwd=!1;var c=process.cwd();r(s,"cwd")?(t.cwd=n.resolve(s.cwd),t.changedCwd=t.cwd!==c):t.cwd=c;t.root=s.root||n.resolve(t.cwd,"/"),t.root=n.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=o(t.cwd)?t.cwd:u(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!s.nomount,s.nonegate=!0,s.nocomment=!0,s.allowWindowsEscape=!1,t.minimatch=new a(e,s),t.options=t.minimatch.options},ee.ownProp=r,ee.makeAbs=u,ee.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[i];e?r.push(a):r[a]=!0}}e||(r=Object.keys(r));t.nosort||(r=r.sort(c));if(t.mark){for(i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),i=t.cache[e]||t.cache[u(t,e)];return r&&i&&(r="DIR"!==i&&!Array.isArray(i)),r})))}t.ignore.length&&(r=r.filter((function(e){return!l(t,e)})));t.found=r},ee.mark=function(t,e){var r=u(t,e),i=t.cache[r],n=e;if(i){var s="DIR"===i||Array.isArray(i),o="/"===e.slice(-1);if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=u(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n},ee.isIgnored=l,ee.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=e,n=t,s=Ut(),o=Kt(),a=s.Minimatch;function c(t,e){return t.localeCompare(e,"en")}function h(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new a(r,{dot:!0})}return{matcher:new a(t,{dot:!0}),gmatcher:e}}function u(t,e){var r=e;return r="/"===e.charAt(0)?n.join(t.root,e):o(e)||""===e?e:t.changedCwd?n.resolve(t.cwd,e):n.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function l(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}return ee}function ie(){if(te)return Vt;te=1,Vt=v;var e=g,r=Ut();r.Minimatch;var i=ct.exports,o=n.EventEmitter,a=t,c=s,h=Kt(),u=function(){if(Jt)return Ht;Jt=1,Ht=f,f.GlobSync=p;var e=g,r=Ut();r.Minimatch,ie().Glob;var i=t,n=s,o=Kt(),a=re(),c=a.setopts,h=a.ownProp,u=a.childrenIgnored,l=a.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new p(t,e).found}function p(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof p))return new p(t,e);if(c(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}return p.prototype._finish=function(){if(n.ok(this instanceof p),this.realpath){var t=this;this.matches.forEach((function(r,i){var n=t.matches[i]=Object.create(null);for(var s in r)try{s=t._makeAbs(s),n[e.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;n[t._makeAbs(s)]=!0}}))}a.finish(this)},p.prototype._process=function(t,e,i){n.ok(this instanceof p);for(var s,a=0;"string"==typeof t[a];)a++;switch(a){case t.length:return void this._processSimple(t.join("/"),e);case 0:s=null;break;default:s=t.slice(0,a).join("/")}var c,h=t.slice(a);null===s?c=".":o(s)||o(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(s&&o(s)||(s="/"+s),c=s):c=s;var l=this._makeAbs(c);u(this,c)||(h[0]===r.GLOBSTAR?this._processGlobStar(s,c,l,h,e,i):this._processReaddir(s,c,l,h,e,i))},p.prototype._processReaddir=function(t,e,r,n,s,o){var a=this._readdir(r,o);if(a){for(var c=n[0],h=!!this.minimatch.negate,u=c._glob,l=this.dot||"."===u.charAt(0),f=[],p=0;p<a.length;p++)("."!==(g=a[p]).charAt(0)||l)&&(h&&!t?!g.match(c):g.match(c))&&f.push(g);var d=f.length;if(0!==d)if(1!==n.length||this.mark||this.stat)for(n.shift(),p=0;p<d;p++){var m;g=f[p],m=t?[t,g]:[g],this._process(m.concat(n),s,o)}else{this.matches[s]||(this.matches[s]=Object.create(null));for(p=0;p<d;p++){var g=f[p];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=i.join(this.root,g)),this._emitMatch(s,g)}}}},p.prototype._emitMatch=function(t,e){if(!l(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},p.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,i||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},p.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},p.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e},p.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},p.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){var a=i.slice(1),c=t?[t]:[],h=c.concat(a);this._process(h,n,!1);var u=o.length;if(!this.symlinks[r]||!s)for(var l=0;l<u;l++)if("."!==o[l].charAt(0)||this.dot){var f=c.concat(o[l],a);this._process(f,n,!0);var p=c.concat(o[l],i);this._process(p,n,!0)}}},p.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&o(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=i.join(this.root,t):(t=i.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},p.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch(t){n=s}else n=s}return this.statCache[e]=n,i=!0,n&&(i=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!r||"FILE"!==i)&&i},p.prototype._mark=function(t){return a.mark(this,t)},p.prototype._makeAbs=function(t){return a.makeAbs(this,t)},Ht}(),l=re(),f=l.setopts,p=l.ownProp,d=Lt,m=l.childrenIgnored,y=l.isIgnored,b=Ot.exports;function v(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return u(t,e)}return new w(t,e,r)}v.sync=u;var E=v.GlobSync=u.GlobSync;function w(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new E(t,e)}if(!(this instanceof w))return new w(t,e,r);f(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof r&&(r=b(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return o();for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--n._processing,n._processing<=0&&n._finish()}}return v.glob=v,v.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}({},e);r.noprocess=!0;var i=new w(t,r).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var n=0;n<i[0].length;n++)if("string"!=typeof i[0][n])return!0;return!1},v.Glob=w,i(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();l.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i)}function i(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,r){var i=this.matches[t];if(!i)return r();var n=Object.keys(i),s=this,o=n.length;if(0===o)return r();var a=this.matches[t]=Object.create(null);n.forEach((function(i,n){i=s._makeAbs(i),e.realpath(i,s.realpathCache,(function(e,n){e?"stat"===e.syscall?a[i]=!0:s.emit("error",e):a[n]=!0,0==--o&&(s.matches[t]=a,r())}))}))},w.prototype._mark=function(t){return l.mark(this,t)},w.prototype._makeAbs=function(t){return l.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}},w.prototype._process=function(t,e,i,n){if(c(this instanceof w),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,i,n]);else{for(var s,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,o).join("/")}var a,u=t.slice(o);null===s?a=".":h(s)||h(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(s&&h(s)||(s="/"+s),a=s):a=s;var l=this._makeAbs(a);if(m(this,a))return n();u[0]===r.GLOBSTAR?this._processGlobStar(s,a,l,u,e,i,n):this._processReaddir(s,a,l,u,e,i,n)}},w.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,h){return a._processReaddir2(t,e,r,i,n,s,h,o)}))},w.prototype._processReaddir2=function(t,e,r,i,n,s,o,c){if(!o)return c();for(var h=i[0],u=!!this.minimatch.negate,l=h._glob,f=this.dot||"."===l.charAt(0),p=[],d=0;d<o.length;d++){if("."!==(g=o[d]).charAt(0)||f)(u&&!t?!g.match(h):g.match(h))&&p.push(g)}var m=p.length;if(0===m)return c();if(1===i.length&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(d=0;d<m;d++){var g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(n,g)}return c()}i.shift();for(d=0;d<m;d++){g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(i),n,s,c)}c()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!y(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=h(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,i=d("lstat\0"+t,(function(i,n){if(i&&"ENOENT"===i.code)return e();var s=n&&n.isSymbolicLink();r.symlinks[t]=s,s||!n||n.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));i&&r.fs.lstat(t,i)}},w.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t,r);if(p(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}this.fs.readdir(t,function(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}(this,t,r))}},w.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}},w.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},w.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,h){a._processGlobStar2(t,e,r,i,n,s,h,o)}))},w.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var c=i.slice(1),h=t?[t]:[],u=h.concat(c);this._process(u,n,!1,a);var l=this.symlinks[r],f=o.length;if(l&&s)return a();for(var p=0;p<f;p++){if("."!==o[p].charAt(0)||this.dot){var d=h.concat(o[p],c);this._process(d,n,!0,a);var m=h.concat(o[p],i);this._process(m,n,!0,a)}}a()},w.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,(function(n,s){i._processSimple2(t,e,n,s,r)}))},w.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&h(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()},w.prototype._stat=function(t,e){var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&p(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||"DIR"===n)return e(null,n);if(i&&"FILE"===n)return e()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?e():e(null,o,s)}var a=this,c=d("stat\0"+r,(function(i,n){if(n&&n.isSymbolicLink())return a.fs.stat(r,(function(i,s){i?a._stat2(t,r,null,n,e):a._stat2(t,r,i,s,e)}));a._stat2(t,r,i,n,e)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(t,e,r,i,n){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,n();var s="/"===t.slice(-1);if(this.statCache[e]=i,"/"===e.slice(-1)&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&"FILE"===o?n():n(null,o,i)},Vt}const ne=s,se=t,oe=e;let ae;try{ae=ie()}catch(t){}const ce={nosort:!0,silent:!0};let he=0;const ue="win32"===process.platform,le=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||oe[e],t[e+="Sync"]=t[e]||oe[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===ae)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||ce},fe=(t,e,r)=>{"function"==typeof e&&(r=e,e={}),ne(t,"rimraf: missing path"),ne.equal(typeof t,"string","rimraf: path should be a string"),ne.equal(typeof r,"function","rimraf: callback function required"),ne(e,"rimraf: invalid options argument provided"),ne.equal(typeof e,"object","rimraf: options should be object"),le(e);let i=0,n=null,s=0;const o=(t,o)=>t?r(t):(s=o.length,0===s?r():void o.forEach((t=>{const o=a=>{if(a){if(("EBUSY"===a.code||"ENOTEMPTY"===a.code||"EPERM"===a.code)&&i<e.maxBusyTries)return i++,setTimeout((()=>pe(t,e,o)),100*i);if("EMFILE"===a.code&&he<e.emfileWait)return setTimeout((()=>pe(t,e,o)),he++);"ENOENT"===a.code&&(a=null)}he=0,(t=>{n=n||t,0==--s&&r(n)})(a)};pe(t,e,o)})));if(e.disableGlob||!ae.hasMagic(t))return o(null,[t]);e.lstat(t,((r,i)=>{if(!r)return o(null,[t]);ae(t,e.glob,o)}))},pe=(t,e,r)=>{ne(t),ne(e),ne("function"==typeof r),e.lstat(t,((i,n)=>i&&"ENOENT"===i.code?r(null):(i&&"EPERM"===i.code&&ue&&de(t,e,i,r),n&&n.isDirectory()?ge(t,e,i,r):void e.unlink(t,(i=>{if(i){if("ENOENT"===i.code)return r(null);if("EPERM"===i.code)return ue?de(t,e,i,r):ge(t,e,i,r);if("EISDIR"===i.code)return ge(t,e,i,r)}return r(i)})))))},de=(t,e,r,i)=>{ne(t),ne(e),ne("function"==typeof i),e.chmod(t,438,(n=>{n?i("ENOENT"===n.code?null:r):e.stat(t,((n,s)=>{n?i("ENOENT"===n.code?null:r):s.isDirectory()?ge(t,e,r,i):e.unlink(t,i)}))}))},me=(t,e,r)=>{ne(t),ne(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw r}let i;try{i=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}i.isDirectory()?ve(t,e,r):e.unlinkSync(t)},ge=(t,e,r,i)=>{ne(t),ne(e),ne("function"==typeof i),e.rmdir(t,(n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?i(r):i(n):ye(t,e,i)}))},ye=(t,e,r)=>{ne(t),ne(e),ne("function"==typeof r),e.readdir(t,((i,n)=>{if(i)return r(i);let s,o=n.length;if(0===o)return e.rmdir(t,r);n.forEach((i=>{fe(se.join(t,i),e,(i=>{if(!s)return i?r(s=i):void(0==--o&&e.rmdir(t,r))}))}))}))},be=(t,e)=>{let r;if(le(e=e||{}),ne(t,"rimraf: missing path"),ne.equal(typeof t,"string","rimraf: path should be a string"),ne(e,"rimraf: missing options"),ne.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!ae.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(i){r=ae.sync(t,e.glob)}if(r.length)for(let t=0;t<r.length;t++){const i=r[t];let n;try{n=e.lstatSync(i)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&ue&&me(i,e,t)}try{n&&n.isDirectory()?ve(i,e,null):e.unlinkSync(i)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return ue?me(i,e,t):ve(i,e,t);if("EISDIR"!==t.code)throw t;ve(i,e,t)}}},ve=(t,e,r)=>{ne(t),ne(e);try{e.rmdirSync(t)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code)throw r;"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code||Ee(t,e)}},Ee=(t,e)=>{ne(t),ne(e),e.readdirSync(t).forEach((r=>be(se.join(t,r),e)));const r=ue?100:1;let i=0;for(;;){let n=!0;try{const s=e.rmdirSync(t,e);return n=!1,s}finally{if(++i<r&&n)continue}}};var we=fe;fe.sync=be,
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
function(r){const i=e,n=o,s=t,c=a,h={fs:i.constants,os:n.constants},u=we,l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",f=/XXXXXX/,p=(h.O_CREAT||h.fs.O_CREAT)|(h.O_EXCL||h.fs.O_EXCL)|(h.O_RDWR||h.fs.O_RDWR),d="win32"===n.platform(),m=h.EBADF||h.os.errno.EBADF,g=h.ENOENT||h.os.errno.ENOENT,y=[],b=i.rmdirSync.bind(i),v=u.sync;let E=!1;function w(t,e){const r=I(t,e),n=r[0],s=r[1];try{L(n)}catch(t){return s(t)}let o=n.tries;!function t(){try{const e=T(n);i.stat(e,(function(r){if(!r)return o-- >0?t():s(new Error("Could not get a unique tmp filename, max tries reached "+e));s(null,e)}))}catch(t){s(t)}}()}function _(t){const e=I(t)[0];L(e);let r=e.tries;do{const t=T(e);try{i.statSync(t)}catch(e){return t}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function k(t,e){const r=function(t){if(t&&!$(t))return e(t);e()};0<=t[0]?i.close(t[0],(function(){i.unlink(t[1],r)})):i.unlink(t[1],r)}function O(t){let e=null;try{0<=t[0]&&i.closeSync(t[0])}catch(t){if(!(r=t,G(r,-m,"EBADF")||$(t)))throw t}finally{try{i.unlinkSync(t[1])}catch(t){$(t)||(e=t)}}var r;if(null!==e)throw e}function A(t,e,r,i){const n=x(O,[e,t],i),s=x(k,[e,t],i,n);return r.keep||y.unshift(n),i?n:s}function S(t,e,r){const n=e.unsafeCleanup?u:i.rmdir.bind(i),s=x(e.unsafeCleanup?v:b,t,r),o=x(n,t,r,s);return e.keep||y.unshift(s),r?s:o}function x(t,e,r,i){let n=!1;return function s(o){if(!n){const a=i||s,c=y.indexOf(a);return c>=0&&y.splice(c,1),n=!0,r||t===b||t===v?t(e):t(e,o||function(){})}}}function j(t){let e=[],r=null;try{r=c.randomBytes(t)}catch(e){r=c.pseudoRandomBytes(t)}for(var i=0;i<t;i++)e.push(l[r[i]%l.length]);return e.join("")}function N(t){return null===t||R(t)||!t.trim()}function R(t){return void 0===t}function I(t,e){if("function"==typeof t)return[{},t];if(R(t))return[{},e];const r={};for(const e of Object.getOwnPropertyNames(t))r[e]=t[e];return[r,e]}function T(t){const e=t.tmpdir;if(!R(t.name))return s.join(e,t.dir,t.name);if(!R(t.template))return s.join(e,t.dir,t.template).replace(f,j(6));const r=[t.prefix?t.prefix:"tmp","-",process.pid,"-",j(12),t.postfix?"-"+t.postfix:""].join("");return s.join(e,t.dir,r)}function L(t){t.tmpdir=P(t);const e=t.tmpdir;if(R(t.name)||M(t.name,"name",e),R(t.dir)||M(t.dir,"dir",e),!R(t.template)&&(M(t.template,"template",e),!t.template.match(f)))throw new Error(`Invalid template, found "${t.template}".`);if(!R(t.tries)&&isNaN(t.tries)||t.tries<0)throw new Error(`Invalid tries, found "${t.tries}".`);t.tries=R(t.name)?t.tries||3:1,t.keep=!!t.keep,t.detachDescriptor=!!t.detachDescriptor,t.discardDescriptor=!!t.discardDescriptor,t.unsafeCleanup=!!t.unsafeCleanup,t.dir=R(t.dir)?"":s.relative(e,C(t.dir,e)),t.template=R(t.template)?void 0:s.relative(e,C(t.template,e)),t.template=N(t.template)?void 0:s.relative(t.dir,t.template),t.name=R(t.name)?void 0:D(t.name),t.prefix=R(t.prefix)?"":t.prefix,t.postfix=R(t.postfix)?"":t.postfix}function C(t,e){const r=D(t);return r.startsWith(e)?s.resolve(r):s.resolve(s.join(e,r))}function D(t){return N(t)?t:t.replace(/["']/g,"")}function M(t,e,r){if("name"===e){if(s.isAbsolute(t))throw new Error(`${e} option must not contain an absolute path, found "${t}".`);let r=s.basename(t);if(".."===r||"."===r||r!==t)throw new Error(`${e} option must not contain a path, found "${t}".`)}else{if(s.isAbsolute(t)&&!t.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${t}".`);let i=C(t,r);if(!i.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${i}".`)}}function $(t){return G(t,-g,"ENOENT")}function G(t,e,r){return d?t.code===r:t.code===r&&t.errno===e}function P(t){return s.resolve(D(t&&t.tmpdir||n.tmpdir()))}process.addListener("exit",(function(){if(E)for(;y.length;)try{y[0]()}catch(t){}})),Object.defineProperty(r.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return P()}}),r.exports.dir=function(t,e){const r=I(t,e),n=r[0],s=r[1];w(n,(function(t,e){if(t)return s(t);i.mkdir(e,n.mode||448,(function(t){if(t)return s(t);s(null,e,S(e,n,!1))}))}))},r.exports.dirSync=function(t){const e=I(t)[0],r=_(e);return i.mkdirSync(r,e.mode||448),{name:r,removeCallback:S(r,e,!0)}},r.exports.file=function(t,e){const r=I(t,e),n=r[0],s=r[1];w(n,(function(t,e){if(t)return s(t);i.open(e,p,n.mode||384,(function(t,r){if(t)return s(t);if(n.discardDescriptor)return i.close(r,(function(t){return s(t,e,void 0,A(e,-1,n,!1))}));{const t=n.discardDescriptor||n.detachDescriptor;s(null,e,r,A(e,t?-1:r,n,!1))}}))}))},r.exports.fileSync=function(t){const e=I(t)[0],r=e.discardDescriptor||e.detachDescriptor,n=_(e);var s=i.openSync(n,p,e.mode||384);return e.discardDescriptor&&(i.closeSync(s),s=void 0),{name:n,fd:s,removeCallback:A(n,r?-1:s,e,!0)}},r.exports.tmpName=w,r.exports.tmpNameSync=_,r.exports.setGracefulCleanup=function(){E=!0}}(Qt);var _e=Qt.exports;class ke extends Error{constructor(){super(`${process.platform} OS is not supported. msoffice2pdf is available for Linux, Windows and MAC`)}}class Oe extends Error{constructor(){super("Could not find LibreOffice binary")}}class Ae extends Error{constructor(t){super(`The specified LibreOffice (${t}) cannot be found`)}}class Se extends Error{constructor(t){super(`Input file (${t}) not found`)}}class xe extends Error{constructor(){super("An unsupported file was specified as the conversion source. msoffice2pdf supports ppt, pptx, doc, docx, xls, xlsx as conversion sources")}}class je extends Error{constructor(t){super(`An unsupported language (${t}) was specified`)}}var Ne=async(n,s,o)=>new Promise(((a,c)=>{try{if(o=Object.assign({libreOfficeBinaryPath:void 0,language:void 0},o),!e.existsSync(n))throw new Se(n);if(!t.extname(n).match(/^\.(ppt|doc|xls)x?$/i))throw new xe;if(o.language&&!o.language.match(/^(af|sq|ar\-dz|ar\-bh|ar\-eg|ar\-iq|ar\-jo|ar\-kw|ar\-lb|ar\-ly|ar\-ma|ar\-om|ar\-qa|ar\-sa|ar\-sy|ar\-tn|ar\-ae|ar\-ye|eu|be|bg|ca|zh\-hk|zh\-cn|zh\-sg|zh\-tw|hr|cs|da|nl\-be|nl|en|en\-au|en\-bz|en\-ca|en\-ie|en\-jm|en\-nz|en\-za|en\-tt|en\-gb|en\-us|et|fo|fa|fi|fr\-be|fr\-ca|fr\-lu|fr|fr\-ch|gd|de\-at|de\-li|de\-lu|de|de\-ch|el|he|hi|hu|is|id|ga|it|it\-ch|ja|ko|ko|ku|lv|lt|mk|ml|ms|mt|no|nb|nn|pl|pt\-br|pt|pa|rm|ro|ro\-md|ru|ru\-md|sr|sk|sl|sb|es\-ar|es\-bo|es\-cl|es\-co|es\-cr|es\-do|es\-ec|es\-sv|es\-gt|es\-hn|es\-mx|es\-ni|es\-pa|es\-py|es\-pe|es\-pr|es|es\-uy|es\-ve|sv|sv\-fi|th|ts|tn|tr|ua|ur|ve|vi|cy|xh|ji|zu)$/))throw new je(o.language);let h;if(o.libreOfficeBinaryPath){if(!e.existsSync(o.libreOfficeBinaryPath))throw new Ae(o.libreOfficeBinaryPath);h=o.libreOfficeBinaryPath}else h=function(){let r;if("linux"===process.platform)r=["/usr/bin/libreoffice","/usr/bin/soffice","/snap/bin/libreoffice"];else if("darwin"===process.platform)r=["/Applications/LibreOffice.app/Contents/MacOS/soffice"];else{if("win32"!==process.platform)throw new ke;r=[...qt.sync(t.join(process.env.PROGRAMFILES,"LibreOffice*/program/soffice.exe").replaceAll("\\","/")),...qt.sync(t.join(process.env["PROGRAMFILES(X86)"],"LibreOffice*/program/soffice.exe").replaceAll("\\","/"))]}const i=r.find((t=>{try{return e.accessSync(t),!0}catch{}return!1}));if(!i)throw new Oe;return i}();const u=_e.dirSync({prefix:"msoffice2pdf",unsafeCleanup:!0}),l=_e.dirSync({prefix:"msoffice2pdf",unsafeCleanup:!0}),f=function(t,e,i,n){const s=[`-env:UserInstallation=${r.pathToFileURL(i)}`,"--headless","--norestore"];return n&&s.push(`--language=${n}`),s.push("--convert-to","pdf",t,"--outdir",e),s}(n,l.name,u.name,o.language);i(h,f,(r=>{if(r)return u.removeCallback(),l.removeCallback(),void c(r);const i=t.dirname(s);e.existsSync(i)||e.mkdirSync(i,{recursive:!0});const o=t.join(l.name,`${t.parse(n).name}.pdf`);e.renameSync(o,s),u.removeCallback(),l.removeCallback(),a()}))}catch(t){c(t)}}));export{Ne as default};
